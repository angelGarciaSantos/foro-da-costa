(this["webpackJsonpforo-da-costa"]=this["webpackJsonpforo-da-costa"]||[]).push([[0],{69:function(e,t,c){},70:function(e,t,c){"use strict";c.r(t);var n=c(0),s=c.n(n),i=c(19),r=c.n(i),a=c(25),o=c(11),l=c(14),j=c(23),d=c.n(j),b=(c(22),c(2)),u=function(e){var t=e.post,c=t.user,n=t._id,s=t.title,i=(t.content,t.date),r=d()(i).format("DD/MM/YYYY");return Object(b.jsxs)("li",{className:"tc pa3 center b--dashed bw1 b--black-30 dim mv2",onClick:function(){return e.openPostDetailProps(n)},children:[Object(b.jsx)("p",{className:"courier f4",children:s}),Object(b.jsxs)("p",{className:"courier f5",children:["por ",c,", ",r," "]})]})},p=function(e){return Object(b.jsx)("ul",{children:e.posts.map((function(t){return Object(b.jsx)(u,{post:t,openPostDetailProps:e.openPostDetailProps},t._id)}))})},h=c(7),O=c(78),m=c(80),x=c(77),f=function(e){return Object(b.jsxs)(O.a,{bg:"light",expand:"lg",children:[Object(b.jsxs)(O.a.Brand,{className:"courier",href:"#/",children:[Object(b.jsx)("i",{class:"fi-rr-glasses"}),"Foro da Costa"]}),Object(b.jsx)(O.a.Toggle,{"aria-controls":"basic-navbar-nav"}),Object(b.jsx)(O.a.Collapse,{id:"basic-navbar-nav",children:Object(b.jsxs)(m.a,{className:"mr-auto",children:[Object(b.jsx)(m.a.Link,{href:"#/",className:"courier",children:"Inicio"}),Object(b.jsx)(m.a.Link,{href:"#/signup",className:"courier",children:"Registro"}),Object(b.jsx)(m.a.Link,{href:"#/signin",className:"courier",children:"Entrar"}),Object(b.jsxs)(x.a,{title:"Opciones",id:"basic-nav-dropdown",className:"courier",children:[Object(b.jsx)(x.a.Item,{href:"#action/3.1",children:"Action"}),Object(b.jsx)(x.a.Item,{href:"#action/3.2",children:"Another action"}),Object(b.jsx)(x.a.Item,{href:"#action/3.3",children:"Something"}),Object(b.jsx)(x.a.Divider,{}),Object(b.jsx)(x.a.Item,{href:"#action/3.4",children:"Separated link"})]})]})})]})},g=(c.p,function(e){var t=e.getPostById(Object(h.g)().id),c=t.user,n=t._id,s=t.title,i=t.content,r=t.date,a=d()(r).format("DD/MM/YYYY");return Object(b.jsxs)("div",{className:"tc pa3 center b--dashed bw1 b--black-30 dim ma4",children:[Object(b.jsx)("p",{className:"courier f4 tc",children:s}),Object(b.jsx)("p",{className:"courier f5",children:i}),Object(b.jsxs)("p",{className:"courier f6 tc",children:["por ",c,", ",a," "]}),Object(b.jsx)("a",{className:"courier f6 link dim ba ph3 pv2 mb2 dib mid-gray",onClick:e.deletePost.bind(undefined,n),children:"Eliminar"})]})}),N=function(e){return Object(b.jsx)("div",{children:"Pending"})},v=function(e){return Object(b.jsx)("div",{children:"Pending"})},P=c(43),k=c(50),D=(c(48),c(49),function(e){var t=Object(k.a)(),c=t.register,n=t.handleSubmit,s=t.watch,i=t.formState.errors;return console.log(s("title")),console.log(s("content")),Object(b.jsxs)("form",{className:"courier tc",onSubmit:n((function(t){console.log(t),e.createNewPost(t)})),children:[Object(b.jsx)("label",{className:"courier pa3",children:"Titulo"}),Object(b.jsx)("input",Object(P.a)({className:"courier"},c("title",{required:!0}))),i.title&&Object(b.jsx)("span",{children:"Debes introducir un t\xedtulo"}),Object(b.jsx)("label",{className:"courier pa3",children:"Contenido"}),Object(b.jsx)("input",Object(P.a)({className:"courier"},c("content",{required:!0}))),i.content&&Object(b.jsx)("span",{children:"Debes introducir alg\xfan contenido"}),Object(b.jsx)("input",{className:"courier",type:"submit"})]})}),w=c(79),y=function(){var e=Object(n.useState)([]),t=Object(l.a)(e,2),c=t[0],s=t[1],i=Object(h.f)();var r=function(){console.log("Obteniendo info del API"),fetch("https://api-rest-example-21.herokuapp.com/api/post").then((function(e){return e.json()})).then((function(e){return console.log("Posts received: ".concat(e.posts)),s(e.posts),e.posts}))};return Object(n.useEffect)((function(){r()}),[]),Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(f,{}),Object(b.jsxs)(h.c,{children:[Object(b.jsxs)(h.a,{exact:!0,path:"/",children:[Object(b.jsx)(p,{posts:c,openPostDetailProps:function(e){i.push("/post/".concat(e))}}),Object(b.jsx)("div",{className:"tc",children:Object(b.jsx)("a",{className:"courier f6 link dim ba ph3 pv2 mb2 dib mid-gray",onClick:function(){i.push("/new")},children:"Crear nuevo tema"})})]}),Object(b.jsx)(h.a,{path:"/post/:id",children:Object(b.jsx)(g,{getPostById:function(e){var t=-1;return c.map((function(c){c._id==e&&(t=c)})),t},deletePost:function(e){console.log("Deleting post: ".concat(e)),fetch("https://api-rest-example-21.herokuapp.com/api/post/".concat(e),{method:"DELETE"}).then((function(e){return e.text()})).then((function(e){console.log(e),r(),i.push("/")}))}})}),Object(b.jsx)(h.a,{path:"/new",children:Object(b.jsx)(D,{createNewPost:function(e){var t=new Date,n={id:Object(w.a)(),title:e.title,content:e.content,user:"An\xf3nimo",date:t};s([].concat(Object(o.a)(c),[n]));var a={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)};fetch("https://api-rest-example-21.herokuapp.com/api/post",a).then((function(e){return e.json()})).then((function(e){r(),i.push("/")}))}})}),Object(b.jsx)(h.a,{path:"/signin",children:Object(b.jsx)(N,{})}),Object(b.jsx)(h.a,{path:"/signup",children:Object(b.jsx)(v,{})})]})]})};c(68),c(69);r.a.render(Object(b.jsx)(s.a.StrictMode,{children:Object(b.jsx)(a.a,{children:Object(b.jsx)(y,{})})}),document.getElementById("root"))}},[[70,1,2]]]);
//# sourceMappingURL=main.efe546a5.chunk.js.map